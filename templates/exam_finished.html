{% extends "base.html" %}
{% block title %}Examen terminÃ©{% endblock %}

{% block content %}
  {% set percent = (100 * score_correct / (score_correct + score_wrong)) if (score_correct + score_wrong) > 0 else 0 %}
  {% set passed = percent >= 85 %}

  <div style="text-align: center; margin-top: 60px;">
    <h2>Vous avez terminÃ© votre examen blanc nÂ°{{ session_id }} â€“</h2>

    <p style="font-size: 22px;">
      {% if passed %}
        ğŸ¥³ FÃ©licitationsÂ ! Vous avez obtenu un score de :
      {% else %}
        ğŸ˜¢ Dommageâ€¦ Vous avez obtenu un score de :
      {% endif %}
    </p>

    <p style="font-size: 48px; font-weight: bold; margin: 10px 0;
              color: {% if passed %}green{% else %}darkred{% endif %};">
      {{ "%.1f"|format(percent) }}%
    </p>

    <p style="margin-bottom: 30px; font-size: 18px;">
      {% if passed %}
        Continuez Ã  pratiquer pour rester au top. Bravo ğŸ¯
      {% else %}
        Continuez Ã  vous entraÃ®ner, vous allez y arriver !
      {% endif %}
    </p>

    <div style="display: flex; flex-direction: column; align-items: center; gap: 16px;">

      <a href="/train" class="btn btn-primary" style="text-decoration: none; min-width: 350px; text-align: center;">
        ğŸ§  Lancer une session d'entraÃ®nement
      </a>

      <a href="/exam" class="btn btn-primary" style="text-decoration: none; min-width: 350px; text-align: center;">
        â†» Recommencer un examen blanc
      </a>

      <a href="/exam/correction/1?session_id={{ session_id }}" class="btn btn-primary" style="text-decoration: none; min-width: 350px; text-align: center;">
        ğŸ§ Voir la correction
      </a>

    </div>
  </div>
{% endblock %}
